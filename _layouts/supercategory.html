---
layout: page
css: "/article/category.css"
---
<main class="articles">
  <p>{{ page.description }}</p>
  <h2>Subcategories</h2>
  <section class="listing">
    {% assign subcats = site.data[page.cat] %}
    {% for story in subcats %}
      <article>
        {% capture fullpath %}{% if page.categories %}/{{ page.categories | join: "/" }}{% endif %}/{{ page.cat }}/{{ story.path }}/{% endcapture %}
        <a href='{{ story.path }}'>
          <h1>{{ story.title }}</h1>
          {% for sitepage in site.pages %}{% if sitepage.url == fullpath %}<p>{{ sitepage.description }}</p>{% endif %}{% endfor %}
        </a>
      </article>
    {% endfor %}
  </section>
  <!--List any articles that are members of only the supercategory-->
  {% assign excludeArr = '' | split: '' | push: site.data.categories[page.cat].display %}
  {% for cat in page.categories %}
    {% assign excludeArr = excludeArr | push: site.data.categories[cat].display %}
  {% endfor %}
  {% assign catposts = site.categories[page.cat] | reverse | where_exp: "post", "post.categories[-1] == page.cat" %}
  {% if catposts.size > 0 %}
  <h2>Posts</h2>
  <section class="listing">
    {% for post in catposts %}
      {% include listing.html post=post excludetags=excludeArr %}
    {% endfor %}
  </section>
  {% endif %}
</main>